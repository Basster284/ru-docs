---
title: 3. Создание и сборка нового мода
order: 5
---

# Создание нового мода

После долгой настройки вы сможете создать свой первый мод!

Чтобы сделать это, откройте терминал там, где вы хотите создать мод и исполните:
```bash
geode new
```
Следуйте указанным инструкциям и после кучи промптов у вас должна появиться новая папка, содержащая код вашего мода.

## Файлы

Вы можете заметить, что у проекта уже есть несколько файлов. Пройдёмся по ним всем:
 * `CMakeLists.txt` - Главный файл для вашего CMake проекта.
 * `about.md` - Здесь вы можете написать очень долгое описание вашего мода, в markdown. Думайте об этом файле как о README к вашему моду! Этот файл технически необязателен, но очень рекомендуется.
 * `logo.png` - Это иконка для вашего мода, которая появляется в игре. Этот файл технически необязателен, но очень рекомендуется.
 * `mod.json` - Этот json файл содержит все метаданные о вашем моде, такие как: имя мода, версия, ресурсы, настройки и т.д. См. раздел ['конфигурация мода'](/mods/configuring)

Если вы планируете выпускать свой мод, не забудьте отредактировать about.md и logo.png!

Исходный код вашего мода находится внутри папки `src`.

## Дополнительные файлы

Geode также обратит внимание на эти файлы в папке мода:
 * `changelog.md` - Список всех изменений между версиями мода; См. раздел ['подробная информация'](/mods/md-files)
 * `support.md` - Файл-информация о том, как оказать поддержку разработчику мода; См. раздел ['подробная информация'](/mods/md-files)

# Сборка

Сейчас, чтобы собрать мод, у вас есть несколько вариантов:

Если вы используете IDE по типу CLion, VScode или Visual studio, см. раздел ['Настройка IDE'](/getting-started/ide-setup).

Если вы собираете мод на Android, посмотрите [секцию Android](#сборка-для-android).

В противном случае, если вы хотите собрать мод самостоятельно из командной строки, запустите эту команду в папке с модом:
```bash
# Настраивает & собирает для текущей платформы
geode build
```

> Запустите `geode build --help` для других опций!

Если у вас проблемы с запуском этой команды по каким-либо причинам ([дайте нам знать!](https://github.com/geode-sdk/cli/issues)), вы можете собрать мод тем же способом, используя эти команды:
```bash
# Настройка CMake
cmake -B build

# Сборка проекта
cmake --build build --config RelWithDebInfo
```

Если вы [создали профиль в CLI](/getting-started/geode-cli), собранный мод должен автоматически установиться в GD. Если нет, то собранный `ваш.мод.geode` должен быть в папке `build`, где вы можете сами установить моды в игру.

## Сборка для Android

Чтобы собирать моды на Android, вам необходимо установить [Android NDK](https://developer.android.com/ndk/downloads). Извлеките его где-нибудь и установите значение переменной среды `ANDROID_NDK_ROOT` прямой путь к NDK.

> На **Windows** вы должны вдобавок установить [Ninja](https://github.com/ninja-build/ninja/releases). Если у вас есть Scoop, установите Ninja командой `scoop install ninja`.

Вам также нужно скачать бинарники Geode для Android через CLI:
```bash
geode sdk install-binaries -p android64
# Или если вы используете 32-битный телефон
geode sdk install-binaries -p android32
```

Теперь вы сможете собрать свои моды:
```bash
geode build -p android64
# Или если вы используете 32-битный телефон
geode build -p android32
```

Вы можете скопировать .geode файл из папки `build-android64` на ваш телефон в эту директорию:
```
/storage/emulated/0/Android/media/com.geode.launcher/game/geode/mods/
```

## Сборка Windows модов на Linux

Если вы следовали шагам ранее и установили необходимые инструменты через `geode sdk install-linux`, сборка ничем не будет отличаться от Windows:

```bash
geode build
```

Если вы установили Windows SDK и набор инструментов другим путём, вы должны прописа ть пути самостоятельно:
```bash
geode build -- -DCMAKE_TOOLCHAIN_FILE=/path/to/clang-msvc-sdk/clang-msvc.cmake -DSPLAT_DIR=/path/to/splat
```